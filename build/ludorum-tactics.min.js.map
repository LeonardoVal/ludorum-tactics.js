{"version":3,"file":"ludorum-tactics.js","sources":["src/__prologue__.js","src/TacticsPiece.js","src/TacticsGame.js","src/__epilogue__.js"],"names":["global","init","define","amd","module","exports","require","ludorum_gamepack","base","ludorum","this","__init__","declare","iterable","Game","raiseIf","__name__","__dependencies__","TacticsPiece","constructor","hp","hitChance","saveChance","attackRange","movement","position","owner","damageReceived","clone","xclone","moves","game","visited","listToDo","ms","movementSpeed","forEach","xpos","up","le","ri","dw","p","noWalkTerrains","search","terrain","square","push","select","toArray","BresenhamLineAlgorithm","piece","x0","y0","x1","y1","dx","Math","abs","sx","dy","sy","err","noViewTerrains","e2","pieceInLineOfSight","methodCode","expression","v","inLineOfSight","xpiece","possibleAttacks","self","pieces","filter","dist","sqrt","pow","piec","attack","damage","isAlive","TacticsGame","players","name","utils","CheckerboardFromString","currentPiece","hasMoved","call","next","newPieces","concat","hasOwnProperty","JSON","stringify","index","target","enemyPiece","splice","length","result","hasPieces","map","player","defeat","generateThreatMap"],"mappings":"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,OAAA,SAAAvB,GACA,MAAAA,GAAAzB,QAAA8E,IACAJ,OAAA,GAEA,OAAA,KAAAE,EAAA,GACAvE,EAAA0E,OAAA/F,KAAAyE,QAAA,IAEA,IAAAmB,EAAA,GACAvE,EAAA0E,OAAA/F,KAAAyE,QAAA,IAEA,MAGAuB,kBAAA,cCrFA,OAAArG;AHEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;;ACzKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;;AC1FA;AACA;AACA,G"}