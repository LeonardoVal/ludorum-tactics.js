{"version":3,"file":"ludorum-tactics.js","sources":["src/__prologue__.js","src/TacticsPiece.js","src/TacticsGame.js","src/__epilogue__.js"],"names":["global","init","define","amd","module","exports","require","ludorum_gamepack","base","ludorum","this","__init__","declare","iterable","initialize","Game","raise","raiseIf","__name__","__dependencies__","TacticsPiece","constructor","props","string","array","length","elementType","types","INTEGER","number","defaultValue","integer","ignore","minimum","maximum","name","movement","hp","attackChance","attackDamage","attackRange","defenseChance","clone","isDestroyed","damage","moves","game","current","up","left","right","down","visited","pending","position","ms","forEach","xpos","p","isPassable","push","select","toArray","moveTo","r","bresenham","destination","x0","y0","x1","y1","dx","Math","abs","dy","err2","sx","sy","err","isClear","pieceInLineOfSight","piece","inLineOfSight","possibleAttacks","self","pieces","filter","owner","dist","sqrt","pow","i","attack","__serialize__","static fromJSON","data","toString","TacticsGame","games","players","currentPiece","hasMoved","JSON","stringify","call","__piecesByPosition__","map","toObject","terrain","utils","CheckerboardFromString","indexOf","square","activePiece","hasOwnProperty","result","__moves__","concat","next","newPieces","console","log","move","nextPiece","target","attackedPiece","splice","pieceCounts","player","count","Left","victory","Right","display","ui","UserInterface","BasicHTMLInterface","__displayHTML__","activePlayer","classNames",".","#","x","o","m","renderAsHTMLTable","document","container","coord","className","onclick","perform","bind","innerHTML","charAt","height","width","fromJSON","GameClass","join"],"mappings":"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AAAU,EAAA,GAAAA,EAAA,KAGAC,SAAA,WACA,GAAAlD,GAAApC,IACA,OAAAA,MAAAyB,KAAA,IAAAzB,KAAA0F,aAAA,IAAA1F,KAAA2E,OAAA3E,KAAA0F,cAAA,KACA1F,KAAA2F,SAAA,UAAA,SACA3F,KAAA2E,OAAAqB,IAAA,SAAAhD,EAAAiC,GACA,MAAAA,KAAA7C,EAAAsD,aAAA,GAAA,KAAAT,EAAA,IAAAjC,IACAqG,KAAA,IACA,MCvNA,OAAA1J;AHEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;;ACtLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;;AC1NA;AACA;AACA,G"}