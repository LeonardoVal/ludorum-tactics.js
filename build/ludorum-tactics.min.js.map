{"version":3,"file":"ludorum-tactics.js","sources":["src/__prologue__.js","src/TacticsPiece.js","src/TacticsGame.js","src/__epilogue__.js"],"names":["global","init","define","amd","module","exports","require","ludorum_gamepack","base","ludorum","this","__init__","declare","iterable","initialize","Game","raiseIf","__name__","__dependencies__","TacticsPiece","constructor","props","string","array","length","elementType","types","INTEGER","integer","defaultValue","minimum","maximum","number","ignore","attackChance","attackDamage","attackRange","defenseChance","clone","isDestroyed","hp","damageReceived","moves","game","current","up","left","right","down","visited","pending","position","ms","movement","forEach","xpos","p","isPassable","push","select","toArray","moveTo","r","BresenhamLineAlgorithm","piece","x0","y0","x1","y1","dx","Math","abs","sx","dy","sy","err","noViewTerrains","search","terrain","square","e2","pieceInLineOfSight","inLineOfSight","possibleAttacks","self","pieces","filter","owner","dist","sqrt","pow","piec","attack","damage","hitChance","saveChance","TacticsGame","name","players","currentPiece","hasMoved","call","__piecesByPosition__","map","toObject","utils","CheckerboardFromString","indexOf","isClear","hasOwnProperty","result","__moves__","next","newPieces","concat","JSON","stringify","index","target","attackedPiece","splice","pieceCounts","player","count","Left","victory","Right"],"mappings":"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D,EAAAZ,QACA,GAAA7E,MAAAU,YAAA6F,EAAAvG,KAAAyF,cAAA,IAmBAW,OAAA,WACA,GAAAnE,GAAAjC,KACA+G,EAAA5G,EAAAH,KAAAwF,SAAAK,IAAA,SAAAmB,GACA,GAAAC,GAAAhF,EAAA0C,OAAAC,OAAA,SAAAtB,GACA,MAAAA,GAAAuB,QAAAmC,IACAlG,MACA,QAAAkG,EAAAC,KACAnB,UACA,OAAAiB,GAAAG,KAAA,EACAlH,KAAAmH,QAAA,QAAAJ,EAAAK,OACAL,EAAAK,MAAA,EACApH,KAAAmH,QAAA,OAAAJ,EAAAG,MAEA,OC9GA,OAAAvH;AHEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;;AC7JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;;AClHA;AACA;AACA,G"}