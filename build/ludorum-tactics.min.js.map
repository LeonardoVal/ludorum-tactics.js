{"version":3,"file":"ludorum-tactics.js","sources":["src/__prologue__.js","src/TacticsPiece.js","src/TacticsGame.js","src/__epilogue__.js"],"names":["global","init","define","amd","module","exports","require","ludorum_gamepack","base","ludorum","this","__init__","declare","iterable","initialize","Game","raise","raiseIf","__name__","__dependencies__","TacticsPiece","constructor","props","string","array","length","elementType","types","INTEGER","number","defaultValue","integer","ignore","minimum","maximum","name","movement","hp","attackChance","attackDamage","attackRange","defenseChance","clone","isDestroyed","damage","moves","game","current","up","left","right","down","visited","pending","position","ms","forEach","xpos","p","isPassable","push","select","toArray","moveTo","r","bresenham","destination","x0","y0","x1","y1","dx","Math","abs","dy","err2","sx","sy","err","isClear","pieceInLineOfSight","piece","inLineOfSight","possibleAttacks","self","pieces","filter","owner","dist","sqrt","pow","i","attack","toString","TacticsGame","players","currentPiece","hasMoved","JSON","stringify","call","__piecesByPosition__","map","toObject","terrain","utils","CheckerboardFromString","indexOf","square","hasOwnProperty","result","__moves__","concat","next","newPieces","console","log","move","nextPiece","target","attackedPiece","splice","pieceCounts","player","count","Left","victory","Right","__serialize__","join"],"mappings":"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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;;AClKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;;AC/IA;AACA;AACA,G"}